<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline' 'unsafe-eval'; script-src * 'unsafe-inline' 'unsafe-eval'; connect-src * 'unsafe-inline'; img-src * data: blob: 'unsafe-inline'; frame-src *; style-src * 'unsafe-inline';">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#603cba">
    <meta name="msapplication-TileColor" content="#603cba">
    <meta name="theme-color" content="#ffffff">
    <title>Our Squad is Top.. Click to Continue...</title>
    <meta property="og:title" content="Our Squad is Top.." />
    <meta property="og:description" content="Click to continue your jouney..." />
    <meta property="og:url" content="https://oursquadis.top" />
    <meta property="og:image" content="https://oursquadis.top/android-chrome-512x512.png" />
    <meta property="og:image:width" content="512" />
    <meta property="og:image:height" content="512" />
    <style>
        body { 
            margin: 0; 
            overflow: hidden;
            background-color: #000;
        }
        canvas { 
            display: block; 
        }
        #loading {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-family: Arial, sans-serif;
            font-size: 2em;
            text-align: center;
            background: rgba(0,0,0,0.7);
            padding: 20px;
            border-radius: 10px;
            z-index: 1000;
        }
        #controls {
            position: fixed;
            bottom: 20px;
            left: 20px;
            color: white;
            font-family: Arial, sans-serif;
            background: rgba(0,0,0,0.7);
            padding: 10px;
            border-radius: 5px;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div id="loading">Our Squad is Top</div>
    <div id="controls">Press SPACE to toggle view</div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/0.159.0/three.min.js"></script>
    <script>
        // Initialize variables at the top level
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        const planets = [];

        // Constants
        const SCALE = 50;
        const ORBIT_SPEED = 0.001;

        // Planet data with correct relative sizes
        const planetData = [
            { name: 'Sun', radius: 5, distance: 0, color: 0xffff00, rotationSpeed: 0.002 },
            { name: 'Mercury', radius: 0.383, distance: 10, color: 0x808080, rotationSpeed: 0.004 },
            { name: 'Venus', radius: 0.949, distance: 15, color: 0xffd700, rotationSpeed: 0.003 },
            { name: 'Earth', radius: 1, distance: 20, color: 0x0077be, rotationSpeed: 0.005 },
            { name: 'Mars', radius: 0.532, distance: 25, color: 0xff4500, rotationSpeed: 0.004 },
            { name: 'Jupiter', radius: 11.209, distance: 35, color: 0xffa500, rotationSpeed: 0.002 },
            { name: 'Saturn', radius: 9.449, distance: 45, color: 0xffd700, rotationSpeed: 0.002 },
            { name: 'Uranus', radius: 4.007, distance: 55, color: 0x40e0d0, rotationSpeed: 0.001 },
            { name: 'Neptune', radius: 3.883, distance: 65, color: 0x0000ff, rotationSpeed: 0.001 }
        ];

        function init() {
            // Setup renderer
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            document.body.appendChild(renderer.domElement);

            // Setup camera
            camera.position.set(0, 30, 100);
            camera.lookAt(scene.position);

            // Add lights
            const ambientLight = new THREE.AmbientLight(0x404040);
            scene.add(ambientLight);

            const pointLight = new THREE.PointLight(0xffffff, 2, 300);
            scene.add(pointLight);

            // Create planets
            planetData.forEach(data => {
                const geometry = new THREE.SphereGeometry(data.radius, 32, 32);
                const material = new THREE.MeshPhongMaterial({
                    color: data.color,
                    shininess: data.name === 'Sun' ? 0 : 30
                });

                const planet = new THREE.Mesh(geometry, material);

                if (data.name === 'Sun') {
                    material.emissive = new THREE.Color(0xffff00);
                    material.emissiveIntensity = 0.5;
                    scene.add(planet);
                    planets.push({ mesh: planet, data: data });
                } else {
                    const orbitGroup = new THREE.Group();
                    planet.position.x = data.distance;
                    orbitGroup.add(planet);
                    scene.add(orbitGroup);
                    planets.push({ mesh: planet, orbit: orbitGroup, data: data });

                    // Add orbit line
                    const orbitGeometry = new THREE.RingGeometry(data.distance - 0.1, data.distance + 0.1, 64);
                    const orbitMaterial = new THREE.MeshBasicMaterial({
                        color: 0x666666,
                        side: THREE.DoubleSide,
                        opacity: 0.3,
                        transparent: true
                    });
                    const orbit = new THREE.Mesh(orbitGeometry, orbitMaterial);
                    orbit.rotation.x = Math.PI / 2;
                    scene.add(orbit);
                }
            });

            // Add Saturn's rings
            const saturnIndex = planetData.findIndex(p => p.name === 'Saturn');
            if (saturnIndex !== -1) {
                const saturn = planets[saturnIndex].mesh;
                const ringGeometry = new THREE.RingGeometry(11, 20, 32);
                const ringMaterial = new THREE.MeshBasicMaterial({
                    color: 0xffd700,
                    side: THREE.DoubleSide,
                    opacity: 0.5,
                    transparent: true
                });
                const rings = new THREE.Mesh(ringGeometry, ringMaterial);
                rings.rotation.x = Math.PI / 2;
                saturn.add(rings);
            }

            // Add stars
            const starsGeometry = new THREE.BufferGeometry();
            const starsMaterial = new THREE.PointsMaterial({
                color: 0xffffff,
                size: 0.1
            });

            const starsVertices = [];
            for (let i = 0; i < 10000; i++) {
                const x = (Math.random() - 0.5) * 2000;
                const y = (Math.random() - 0.5) * 2000;
                const z = (Math.random() - 0.5) * 2000;
                starsVertices.push(x, y, z);
            }

            starsGeometry.setAttribute('position', new THREE.Float32BufferAttribute(starsVertices, 3));
            const stars = new THREE.Points(starsGeometry, starsMaterial);
            scene.add(stars);

            // Hide loading screen
            document.getElementById('loading').style.display = 'none';
        }

        function animate() {
            requestAnimationFrame(animate);

            planets.forEach(planet => {
                if (planet.data.name !== 'Sun') {
                    // Orbit around sun
                    planet.orbit.rotation.y += ORBIT_SPEED / (planet.data.distance / 10);
                }
                // Self rotation
                planet.mesh.rotation.y += planet.data.rotationSpeed;
            });

            renderer.render(scene, camera);
        }

        // Handle window resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        // Handle camera toggle with spacebar
        let alternateView = false;
        document.addEventListener('keydown', (event) => {
            if (event.code === 'Space') {
                alternateView = !alternateView;
                if (alternateView) {
                    camera.position.set(0, 100, 0);
                    camera.lookAt(0, 0, 0);
                } else {
                    camera.position.set(0, 30, 100);
                    camera.lookAt(scene.position);
                }
            }
        });

        // Start the simulation
        init();
        animate();
    </script>
</body>
</html>
